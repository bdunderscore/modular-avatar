# Parameters

**Modular Avatar Parameters** 组件允许你定义小工具内部使用的动画参数，或用于与其他组件通信。它会重命名参数以避免冲突，并定义同步和非同步的动画参数及其默认值。

![Parameters UI](parameters.png)

## 我应该何时使用它？

当你正在构建一个使用 VRChat 内置参数以外的动画参数的小工具时，应该使用 **Parameters** 组件。

## 如何使用它？

**MA Parameters** 列表中的每个条目配置一个参数，或一个用于 VRChat **PhysBone** 的前缀。你在第一行设置名称（或前缀），旁边是参数类型。

### 参数类型

右上角的参数类型字段可以设置为以下任何一种：

* Bool
* Int
* Float
* 仅限动画控制器（Animator Only）
* PhysBone 前缀（PB Prefix）

如果你选择“仅限动画控制器”，该参数将不会被添加到表情参数列表中。但是，它仍然能够重命名该参数。

“PhysBone 前缀”设置用于此参数前缀在 **PhysBones** 组件中设置时。与“仅限动画控制器”一样，这也不会被添加到表情参数列表中。

### 重命名参数

如果你在“重命名为”字段中输入一个名称，该参数在 **MA Parameters** 对象及其子对象**之外**的所有地方都将被重命名为该名称。这对于避免不同小工具之间的冲突，或者反过来，通过让它们使用相同的参数来故意连接两个不同的小工具很有用。

你也可以点击“自动重命名”复选框，让 Modular Avatar 自动为你选择一个未使用的名称。

### 默认值

你可以为每个参数设置一个默认值。当你重置Avatar时，将使用此值。如果你将默认值字段留空，则将使用主表情参数资产中的值（如果有），否则将使用零（或 false）。

如果你点击“覆盖动画控制器默认值”复选框，那么你的资产的**动画控制器**中指定的任何默认值都将被此默认值替换。这在构建特别复杂的小工具时偶尔会很有用。如果你选择了“仅限动画控制器”并指定了默认值，那么此复选框将被忽略，动画控制器默认值将始终被替换。

### 保存/同步

“保存”复选框控制参数是否在Avatar更改和重新启动 VRChat 时被保存。

“同步”复选框控制参数是否在网络上同步。如果你取消勾选此框，此参数将不会占用你有限的参数空间。

### 创建新参数

你可以通过两种不同的方式定义一个新参数。首先，你可以点击参数列表底部的“+”按钮；然后点击参数旁边的箭头来设置其名称。

其次，你可以展开“未注册的参数”部分；此部分列出了在此游戏对象及其子对象中检测到的未注册参数。你可以点击“添加”按钮来添加参数，或点击放大镜来查看参数是在哪里被检测到的。

无论哪种方式，创建参数后，点击新参数旁边的箭头以展开详细视图。在那里，你可以设置参数类型（它控制参数是否同步）和参数的其他属性。

### 嵌套

**MA Parameters** 组件可以嵌套。这使你可以用多个子组件构建一个复杂的系统。每个 **MA Parameters** 组件都可以对其所有子对象应用重命名。这意味着如果你有一个内部 **MA Parameters** 将“hoge”重命名为“piyo”，而一个外部 **MA Parameters** 将“piyo”设置为“自动重命名”，你仍然可以在中间的对象中访问“piyo”。

嵌套组件时有几个需要注意的微妙之处：

* “保存”参数将采用最外层的“保存”设置。但是，当多个非嵌套的 **MA Parameters** 组件将“保存”设置为不同的值时，如果其中任何一个组件将其设置为保存，则该参数将被保存。
* “默认值”字段将采用最外层的设置；但是，如果外部组件的默认值为空，则将使用最内层的非空默认值。如果多个非嵌套的组件设置了非空默认值，将显示警告，因为不清楚应该使用哪个。