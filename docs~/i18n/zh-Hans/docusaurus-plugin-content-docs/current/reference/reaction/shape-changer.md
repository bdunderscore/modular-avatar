# Shape Changer

![Shape Changer](shape-changer.png)

**Shape Changer** 组件在启用时，会修改Avatar上另一个渲染器的形状键（Blend Shape）。

**Shape Changer** 是一种 [**反应式组件**](./index.md)。有关反应式组件的通用规则和行为，请参阅该页面。

## 我应该何时使用它？

这个组件旨在用于衣装网格，以自动删除或缩小被衣装网格隐藏或干扰的Avatar素体模型部分。

## 我不应该何时使用它？

此组件不应用于修改也被其他动画操作的形状键。
相反，请对包含 **Shape Changer** 组件的对象的启用/禁用状态进行动画化。

## 设置 Shape Changer

将 **Shape Changer** 组件附加到你衣装中的一个对象上。通常，这会是一个 **Skinned Mesh Renderer**。将你想要调整的渲染器（即Avatar素体网格）放入 `Target Renderer` 字段中。

接下来，点击 `+` 图标以调出形状键选择窗口。点击形状键名称会将其添加到 **Shape Changer** 中。
**Shape Changer** 的效果会在场景视图中实时显示。由于你选择的部分很可能隐藏在你的衣物网格下面，使用场景视图中的“过度绘制”（overdraw）调试叠加层，透过衣物观察下面发生的情况会很有帮助。

### 形状改变模式

每个形状键都可以设置为“删除”或“设置”模式。在“设置”模式下，当 **Shape Changer** 处于活动状态时，形状键将被设置为指定的值。在“删除”模式下，**Shape Changer** 会删除受此形状键影响的顶点。如果未被动画化，这会减少Avatar的顶点数，从而带来性能优势。如果被动画化，它仍然会完全隐藏顶点，但不会减少测量的顶点数。

一般来说，“删除”模式应在形状键用于将身体部分缩小到（几乎）没有时使用，因为它会在没有动画时生成一个更优化的Avatar。

### 阈值

“阈值”设置允许你调整如何确定哪些顶点被视为受形状键影响。如果你发现 **Shape Changer** 没有删除足够的网格，你可以减小阈值，这将使更多的顶点受到 **Shape Changer** 的影响。

### 与动画的相互作用

**Shape Changer** 会响应其所在的游戏对象及其父对象的动画。禁用这些游戏对象将移除 **Shape Changer** 对目标渲染器的影响。这对于切换衣装，或移除衣装的一部分，并恢复下面的素体网格非常有用。

如果多个 **Shape Changer** 试图同时操作同一个形状键，通常层级结构中位置最低的那一个会胜出。