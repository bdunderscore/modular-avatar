# MMD ワールド対策

一部の「MMD ワールド」では、FXアニメーターコントローラーの2番目と3番目_のレイヤーを無効にする動作があります。
これは、表情を制御するレイヤーを無効にして、MMD ワールドがそれを上書きできるようにするためです。

Modular Avatar は、元々レイヤー2と3であったレイヤーがこの状況で無効になるように自動的に配慮します。
つまり、レイヤーがそれらより前に追加された場合、MA はレイヤー2と3を適切にオンとオフするためのリレーレイヤーを追加します。

Merge Animatorなどで追加されたレイヤーは、（置換モードでも）この MMD ワールドの動作に影響を受けません。
必要に応じて、それらを保護するためのパディングレイヤーが追加されます。MMDワールドの動作で無効化したい場合は、
`MA MMD Layer Control` という_ステートマシンビヘイビア_を制御したいレイヤーに追加することができます。

また、全体的にこの対応を無効にする場合は、[VRChat Settings](../reference/vrchat-settings)コンポーネントをアバターにつけて、
該当設置絵を無効にしてください。

:::warning

`MA MMD Layer Control` ステートマシンビヘイビアは、レイヤーに直接アタッチされている場合にのみ機能します。
ステートマシンビヘイビアの仕様により、個々のステートに追加することはできてしまいますが、その場合はビルドが失敗するのでやめましょう。

:::

:::warning

`MA MMD Layer Control`は現在、FXアニメーターコントローラーのレイヤーにのみ適用されます。

:::

:::note

このワークアラウンドは、２番と３番レイヤーを無効にするワールドにのみ正しく適用されます。
現在のVRChatの制約により、より一般的な解決策を提供することはできません。

:::